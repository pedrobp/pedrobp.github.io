(this["webpackJsonpreact-challenge"]=this["webpackJsonpreact-challenge"]||[]).push([[0],{227:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(12),r=a.n(i),o=a(61),d=a(33),l=a(23),s=a(62),j=a(44),u=a(28),h=a(45),b=a(64),O=Object(j.b)({name:"reminders",initialState:{value:[{id:Object(b.v4)(),city:"Belo Horizonte",date:new Date,description:"Reminder Example"}]},reducers:{addReminder:function(e,t){e.value=[].concat(Object(h.a)(e.value),[Object(u.a)({id:Object(b.v4)()},t.payload)])},deleteReminder:function(e,t){e.value=e.value.filter((function(e){return e.id!==t.payload}))},editReminder:function(e,t){var a=e.value.find((function(e){return e.id===t.payload.id})),n=e.value.indexOf(a);e.value=[].concat(Object(h.a)(e.value.slice(0,n)),[t.payload],Object(h.a)(e.value.slice(n+1,e.value.length+1)))}}}),p=O.actions,x=p.addReminder,f=p.deleteReminder,m=p.editReminder,g=function(e){return e.reminders.value},y=O.reducer,v=Object(j.b)({name:"snackbar",initialState:{open:!1,message:""},reducers:{show:function(e){e.open=!0},hide:function(e){e.open=!1},changeMessage:function(e,t){e.message=t.payload}}}),w=v.actions,C=w.show,N=w.hide,k=w.changeMessage,D=function(e){return e.snackbar},R=v.reducer,M=[s.a];l.d.apply(void 0,[l.a.apply(void 0,M)].concat([]));var H=Object(j.a)({reducer:{reminders:y,snackbar:R},middleware:Object(j.c)({serializableCheck:!1})}),I=a(124),S=a(14),W=a(24),E=a(113),T=a.n(E),P=a(2);var F=function(e){var t=e.onClick,a=e.children;return Object(P.jsx)("button",{onClick:t,children:a})};var B=function(e){var t=e.limit,a=c.a.useState(0),n=Object(W.a)(a,2),i=n[0],r=n[1],o=!!t&&i===t;return Object(P.jsxs)("div",{className:"counter",children:[Object(P.jsxs)("h3",{children:["Counter: ",i]}),Object(P.jsx)(F,{onClick:function(){o||r(i+1)},children:"Increment"}),Object(P.jsx)(F,{onClick:function(){r(i-1)},children:"Decrement"}),o&&Object(P.jsx)("span",{children:"You reached the limit!"})]})};var A=function(){var e=Object(n.useState)(null),t=Object(W.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/Jobsity/ReactChallenge/main/README.md",{mode:"cors"}).then((function(e){return e.text()})).then((function(e){c("".concat(e,"\n        \n## About Unit Tests:\nThe component below has a suite of tests to that could serve as guidance to unit test the calendar functionality, tests are located at `src/components/Counter.test.jsx`\n        \n"))}))}),[]),Object(P.jsxs)("div",{className:"readme",children:[Object(P.jsx)(T.a,{allowDangerousHtml:!0,children:a}),a&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(B,{limit:3}),Object(P.jsx)("h2",{children:"Use our existing route to create you calendar!"}),Object(P.jsx)(o.b,{to:"/calendar",children:"Go to Calendar page"})]})]})};var G=function(){return Object(P.jsx)("div",{children:Object(P.jsx)(A,{})})},L=a(275),z=a(272),V=a(278),J=a(276),Y=a(277),U=a(284),q=a(270),K=a(229),Q=a(285),X=a(283),Z=a(271),$=a(266),_=a(280),ee=a(78),te=a.n(ee),ae=a(122),ne=a.n(ae),ce=a(123),ie=a.n(ce),re=a(126),oe=Object($.a)({root:{width:"100%",backgroundColor:"#38bb4e",color:"white",display:"flex",borderRadius:"5px",lineHeight:"20px",cursor:"pointer","&:hover > #editIcon":{display:"block"}},time:{fontWeight:"bold",margin:"2px 5px"},content:{margin:"2px 5px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:1}}),de=function(e){var t=e.data,a=e.handleOpenReminder,n=oe();return Object(P.jsx)(Q.a,{arrow:!0,enterDelay:500,title:t.description,children:Object(P.jsxs)(re.a,{onClick:a,className:n.root,children:[Object(P.jsx)("div",{className:n.time,children:Object(V.a)(t.date,"HH:mm")}),Object(P.jsx)("div",{className:n.content,children:t.description})]})})},le=a(282),se=a(274),je=a(267),ue=a(279),he=a(269),be=Object($.a)({content:{display:"flex",flexDirection:"column",gap:"25px",width:"25vw"},alert:{flex:1,maxHeight:"20px",alignItems:"center",justifyContent:"center"},saveButton:{fontWeight:"bold"}}),Oe=function(e){var t=e.data,a=e.handleChangeData,c=e.handleClose,i=Object(d.b)(),r=be(),o=Object(n.useState)(!1),l=Object(W.a)(o,2),s=l[0],j=l[1];return Object(P.jsxs)("div",{children:[Object(P.jsxs)(je.a,{className:r.content,dividers:!0,children:[Object(P.jsx)(ue.a,{label:"Reminder description",placeholder:"Max. 30 characters",variant:"outlined",inputProps:{maxLength:30,"data-testid":"description-input"},value:t.description,onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{description:e.target.value}))}}),Object(P.jsx)(ue.a,{label:"City",variant:"outlined",inputProps:{"data-testid":"city-input"},value:t.city,onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{city:e.target.value}))}}),Object(P.jsx)(ue.a,{label:"Date and time",type:"datetime-local",variant:"outlined",inputProps:{"data-testid":"date-input"},className:r.textField,InputLabelProps:{shrink:!0},value:t.date,onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{date:e.target.value}))}})]}),Object(P.jsxs)(he.a,{children:[s&&Object(P.jsx)(_.a,{className:r.alert,variant:"filled",severity:"warning",children:"Please complete all the blank fields!"}),Object(P.jsx)(Z.a,{"data-testid":"add-reminder",onClick:function(){if(""===t.description||""===t.city||""===t.date)return j(!0);var e="";""!==t.id?(i(m({id:t.id,date:new Date(t.date),description:t.description,city:t.city})),e="Reminder was successfully edited!"):(i(x({id:Object(b.v4)(),date:new Date(t.date),description:t.description,city:t.city})),e="Reminder was successfully created!"),i(k(e)),i(C()),c()},color:"primary",variant:"contained",className:r.saveButton,children:"Save"})]})]})},pe=a(273),xe=a(120),fe=a.n(xe),me=a(119),ge=a.n(me),ye=0,ve=1,we=2,Ce=Object($.a)({weatherPanel:{display:"flex",flexDirection:"column",flex:1},forecastContainer:{width:"100%",textAlign:"center"},image:{margin:0}}),Ne=function(e){var t=e.mode,a=e.forecast,n=Ce(),c=function(){return Object(P.jsx)("div",{children:"The weather forecast is only available within a 7-day range starting from the current day!"})};return Object(P.jsx)("div",{className:n.weatherPanel,children:function(e){switch(e){case ye:return c();case ve:return Object(P.jsx)("div",{children:"The specified city was not found, therefore no forecast could be fetched."});case we:return Object(P.jsxs)("div",{className:n.forecastContainer,children:[Object(P.jsx)(K.a,{variant:"h5",children:"".concat(parseInt(a.temp.day),"\xb0C")}),Object(P.jsx)("img",{className:n.image,width:150,height:150,alt:"clear",src:"http://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@4x.png")})]});default:return c()}}(t)})},ke="efafdce92f3ba03765871bfb88b3326e",De=Object($.a)({container:{display:"flex",flexDirection:"column",width:"40vw",minHeight:"30vh"},content:{display:"flex",flexDirection:"row"},contentRow:{display:"flex",flexDirection:"row",gap:"5px",alignItems:"center",textTransform:"capitalize"},details:{display:"flex",flexDirection:"column",flex:1,gap:"15px"},icon:{color:"#555"},bold:{fontWeight:"bold"},loadingContainer:{flex:1,textAlign:"center",alignSelf:"center"}}),Re=function(e){var t=e.data,a=e.handleClose,c=e.handleChangeMode,i=e.handleChangeData,r=Object(n.useState)(null),o=Object(W.a)(r,2),l=o[0],s=o[1],j=Object(n.useState)(ye),h=Object(W.a)(j,2),b=h[0],O=h[1],p=Object(n.useState)(!1),x=Object(W.a)(p,2),m=x[0],g=x[1],y=Object(d.b)(),v=De();Object(n.useEffect)((function(){var e=(new Date).setHours(0,0);if(t.date>Object(z.a)(e,8)||t.date<e)return O(ye);g(!0),fetch("http://api.openweathermap.org/geo/1.0/direct?q=".concat(t.city,"&limit=1&appid=").concat(ke)).then((function(e){return e.json()})).then((function(e){var a=e.shift();if(!a)return g(!1),O(ve);fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a.lat,"&lon=").concat(a.lon,"&exclude=current,minutely,hourly,alerts&units=metric&appid=").concat(ke)).then((function(e){return e.json()})).then((function(e){var a=e.daily.filter((function(e){return Object(U.a)(new Date(1e3*e.dt),t.date)}))[0];a&&(O(we),s(a)),g(!1)}))}))}),[t,O]);return Object(P.jsxs)("div",{className:v.container,children:[Object(P.jsxs)(je.a,{className:v.content,children:[Object(P.jsxs)("div",{className:v.details,children:[Object(P.jsx)(K.a,{color:"primary",gutterBottom:!0,variant:"h5",children:t.description}),Object(P.jsxs)("div",{className:v.contentRow,children:[Object(P.jsx)(K.a,{className:v.bold,children:"City: "}),Object(P.jsx)(K.a,{children:t.city})]}),Object(P.jsxs)("div",{className:v.contentRow,children:[Object(P.jsx)(K.a,{className:v.bold,children:"Date and time: "}),Object(P.jsx)(K.a,{children:Object(V.a)(t.date,"yyyy-MM-dd HH:mm")})]}),l&&Object(P.jsxs)("div",{className:v.contentRow,children:[Object(P.jsx)(K.a,{className:v.bold,children:"Weather forecast:"}),Object(P.jsx)(K.a,{children:l.weather[0].description})]})]}),m?Object(P.jsxs)("div",{className:v.loadingContainer,children:[Object(P.jsx)(pe.a,{}),Object(P.jsx)("div",{children:"Getting weather data..."})]}):Object(P.jsx)(Ne,{mode:b,forecast:l})]}),Object(P.jsxs)(he.a,{children:[Object(P.jsx)(q.a,{className:v.icon,onClick:function(){c(Ie.CONFIG),i(Object(u.a)(Object(u.a)({},t),{},{date:Object(V.a)(t.date,"yyyy-MM-dd'T'HH:mm")}))},children:Object(P.jsx)(ge.a,{})}),Object(P.jsx)(q.a,{className:v.icon,onClick:function(){y(f(t.id)),a()},children:Object(P.jsx)(fe.a,{})})]})]})},Me=a(121),He=a.n(Me),Ie={PREVIEW:0,CONFIG:1},Se=Object($.a)({title:{padding:"10px"},closeButton:{position:"absolute",right:"5px",top:"5px",color:"grey"}}),We=function(e){var t=e.open,a=e.data,n=e.handleChangeData,c=e.handleClose,i=e.mode,r=e.handleChangeMode,o=Se();return Object(P.jsxs)(le.a,{maxWidth:"md",open:t,children:[Object(P.jsxs)(se.a,{disableTypography:!0,className:o.title,children:[Object(P.jsx)(K.a,{variant:"h6",children:"Reminder Details"}),Object(P.jsx)(q.a,{"data-testid":"close-button",className:o.closeButton,onClick:c,children:Object(P.jsx)(He.a,{})})]}),i===Ie.PREVIEW?Object(P.jsx)(Re,{data:a,handleClose:c,handleChangeMode:r,handleChangeData:n}):i===Ie.CONFIG?Object(P.jsx)(Oe,{data:a,handleChangeData:n,handleClose:c}):""]})},Ee=a(4),Te=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Pe=Object(h.a)(Array(6).keys()),Fe=Object(h.a)(Array(7).keys()),Be={blue:"#3f51b5",grey:"darkgrey",darkGrey:"#555"},Ae=Object($.a)({root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},title:{marginTop:"25px"},container:{width:"80%"},monthSelector:{display:"flex",alignItems:"center",justifyContent:"center"},gridContainer:{display:"grid",height:"80vh",gridAutoRows:"1fr",minHeight:"550px"},dayOfWeekRow:{display:"flex"},weekRow:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)"},dayOfWeek:{flex:1,textAlign:"center",color:"white",backgroundColor:Be.blue,fontWeight:"bold",lineHeight:"30px"},dayContainer:{padding:"5px",position:"relative","&:hover > * #icon":{display:"block"}},weekendContainer:{backgroundColor:"#f7f3f3"},border:{border:"1px solid lightgrey"},dayOfMonth:{fontWeight:"bold",flex:1},chipList:{display:"flex",flexDirection:"column",gap:"5px",position:"absolute",maxHeight:"70%",width:"95%",paddingRight:"3px",overflowY:"auto"},dayHeader:{display:"flex"},addIcon:{padding:0,display:"none"},addButton:{position:"absolute",top:"25px",right:"10%",fontWeight:"bold"}}),Ge=[{path:"/",component:G,exact:!0},{path:"/calendar",component:function(){var e=Object(n.useState)(new Date),t=Object(W.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({id:"",date:"",description:"",city:""}),r=Object(W.a)(i,2),o=r[0],l=r[1],s=Object(n.useState)(!1),j=Object(W.a)(s,2),u=j[0],h=j[1],b=Object(n.useState)(Ie.PREVIEW),O=Object(W.a)(b,2),p=O[0],x=O[1],f=Object(d.c)(g),m=Object(d.c)(D),y=Object(d.b)(),v=Ae(),w=function(e,t){var a=[],n=new Date(e,t),c=Object(L.a)(n);return Pe.forEach((function(){var e=[];Fe.forEach((function(){e.push(c),c=Object(z.a)(c,1)})),a.push(e)})),a}(a.getFullYear(),a.getMonth()),C=function(e){x(Ie.CONFIG),h(!0),e&&l({id:"",description:"",city:"",date:Object(V.a)(e.setHours(12,0),"yyyy-MM-dd'T'HH:mm")})},k=function(e){return e.getMonth()!==a.getMonth()?Be.grey:Object(J.a)(e)?Be.blue:Be.darkGrey};return Object(P.jsxs)("div",{className:v.root,children:[Object(P.jsxs)("div",{className:v.container,children:[Object(P.jsx)("h1",{className:v.title,children:"Calendar"}),Object(P.jsxs)("div",{className:v.monthSelector,children:[Object(P.jsx)(q.a,{onClick:function(){return c(Object(Y.a)(a,-1))},children:Object(P.jsx)(ne.a,{})}),Object(P.jsx)(K.a,{variant:"h6",component:"label",children:Object(V.a)(a,"MMM yyyy")}),Object(P.jsx)(q.a,{onClick:function(){return c(Object(Y.a)(a,1))},children:Object(P.jsx)(ie.a,{})})]}),Object(P.jsx)("div",{className:Object(Ee.a)(v.dayOfWeekRow,v.border),children:Te.map((function(e,t){return Object(P.jsx)(K.a,{className:v.dayOfWeek,children:e},t)}))}),Object(P.jsx)("div",{className:Object(Ee.a)(v.gridContainer,v.border),children:null===w||void 0===w?void 0:w.map((function(e,t){return Object(P.jsx)("div",{className:v.weekRow,children:e.map((function(e,t){return Object(P.jsxs)("div",{className:Object(Ee.a)(v.dayContainer,v.border,Object(J.a)(e)?v.weekendContainer:""),children:[Object(P.jsxs)("div",{className:v.dayHeader,style:{"&:hover > *":{display:"block"}},children:[Object(P.jsx)(K.a,{className:v.dayOfMonth,style:{color:k(e)},children:e.getDate()}),Object(P.jsx)(Q.a,{arrow:!0,enterDelay:300,title:"Add a new reminder",children:Object(P.jsx)(q.a,{id:"icon",className:v.addIcon,onClick:function(){return C(e)},children:Object(P.jsx)(te.a,{})})})]}),Object(P.jsx)("div",{className:v.chipList,children:null===f||void 0===f?void 0:f.filter((function(t){return Object(U.a)(t.date,e)})).sort((function(e,t){return e.date<t.date?-1:1})).map((function(e,t){return Object(P.jsx)(de,{data:e,handleOpenReminder:function(){return t=e,x(Ie.PREVIEW),h(!0),void l(t);var t}},t)}))})]},t)}))},t)}))})]}),Object(P.jsx)(We,{open:u,handleClose:function(){h(!1)},data:o,handleChangeData:l,mode:p,handleChangeMode:x}),Object(P.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:m.open,onClose:function(){y(N())},autoHideDuration:3e3,children:Object(P.jsx)(_.a,{variant:"filled",severity:m.status,children:m.message})}),Object(P.jsxs)(Z.a,{color:"primary",variant:"contained",className:v.addButton,onClick:function(){return C(new Date)},children:[Object(P.jsx)(te.a,{}),"New Reminder"]})]})},exact:!0}];var Le=Object(S.f)((function(){return Object(P.jsx)("div",{className:"main",children:Object(I.a)(Ge)})})),ze=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,286)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};a(227);r.a.render(Object(P.jsx)(d.a,{store:H,children:Object(P.jsx)(o.a,{children:Object(P.jsx)(Le,{})})}),document.getElementById("root")),ze()}},[[228,1,2]]]);
//# sourceMappingURL=main.3c73a1b1.chunk.js.map